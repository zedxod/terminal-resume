<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NullFrag — Command Prompt</title>

<style>
:root {
  --green:#33ff33;
  --bg:#000;
  --border:#2b2b2b;
  --titlebar:#111;
}
body{
  background:#111;
  font-family:Consolas,"Lucida Console",monospace;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  margin:0;
}
#cmd-window{
  width:900px;
  max-width:95%;
  background:var(--bg);
  border:2px solid var(--border);
  box-shadow:0 0 30px rgba(0,0,0,.8);
}
#title-bar{
  background:var(--titlebar);
  color:#ccc;
  padding:6px 10px;
  font-size:14px;
  display:flex;
  justify-content:space-between;
}
.window-buttons{display:flex;gap:6px;}
.btn{width:12px;height:12px;border-radius:50%;}
.close{background:#ff5f56;}
.minimize{background:#ffbd2e;}
.maximize{background:#27c93f;}

#terminal{
  color:var(--green);
  padding:15px;
  height:500px;
  overflow:hidden;
}
#output{white-space:pre;}
.prompt-line{display:flex;}
.prompt{margin-right:6px;}
input{
  background:transparent;
  border:none;
  outline:none;
  color:var(--green);
  font-family:inherit;
  font-size:1em;
  flex:1;
  caret-color:var(--green);
}
</style>
</head>

<body>
<div id="cmd-window">
  <div id="title-bar">
    <span>Command Prompt</span>
    <div class="window-buttons">
      <div class="btn close"></div>
      <div class="btn minimize"></div>
      <div class="btn maximize"></div>
    </div>
  </div>

  <div id="terminal">
    <div id="output"></div>
    <div class="prompt-line" id="prompt">
      <span class="prompt">C:\Users\NullFrag&gt;</span>
      <input id="cmd" disabled autofocus>
    </div>
  </div>
</div>

<script>
const output = document.getElementById("output");
const cmd = document.getElementById("cmd");
const prompt = document.getElementById("prompt");
const terminal = document.getElementById("terminal");

let mode="boot";
const history=[];
let historyIndex=-1;

/* ---------------- COMMAND DATA ---------------- */
const data={
help:`
Available commands:
  help
  whoami
  resume
  skills
  projects
  contact
  snake
  ping <target>
  clear
`,
whoami:`
Paramdeep Singh
Security Researcher / Software Engineer
`,
resume:`
NAME     : Paramdeep Singh
ROLE     : Security Researcher / Software Engineer

SUMMARY:
Focused on Windows internals, low-level tooling,
credential access research, and stealthy C# utilities.
`,
skills:`
Languages:
  C / C++
  C#
  Python
  PowerShell

Security:
  Windows Internals
  LSASS
  Malware Evasion
`,
projects:`
• LSASS Dump Monitor (C#)
• In-memory Obfuscation Engine
• Native Win32 Dump Utility
`,
contact:`
Email  : admin@nullfrag.online
GitHub : https://github.com/zedxod
`
};

/* ---------------- UTIL ---------------- */
function print(line=""){
  output.textContent+=line+"\n";
  terminal.scrollTop=terminal.scrollHeight;
}

async function typeLine(text,delay=14){
  if(!text){print("");return;}
  let buf="";
  for(const c of text){
    buf+=c;
    output.textContent=output.textContent.replace(/[^\n]*$/,buf);
    await new Promise(r=>setTimeout(r,delay));
  }
  print("");
}

function sleep(ms){
  return new Promise(resolve=>setTimeout(resolve,ms));
}

async function loadingDots(text, cycles=4, interval=400){
  const start=output.textContent.length;
  let dots=0;
  for(let i=0;i<cycles*2;i++){
    dots=(dots+1)%4;
    output.textContent=
      output.textContent.slice(0,start)+text+".".repeat(dots)+"\n";
    terminal.scrollTop=terminal.scrollHeight;
    await sleep(interval);
  }
}

/* ---------------- PING COMMAND (NEW) ---------------- */
async function pingCommand(target){
  print(`Pinging ${target} with 32 bytes of data:`);

  const times=[];

  for(let i=0;i<4;i++){
    const t=3+Math.floor(Math.random()*3); // 3–5 ms
    times.push(t);
    await sleep(700);
    print(`Reply from ${target}: bytes=32 time=${t}ms TTL=118`);
  }

  const min=Math.min(...times);
  const max=Math.max(...times);
  const avg=Math.round(times.reduce((a,b)=>a+b,0)/times.length);

  print("");
  print(`Ping statistics for ${target}:`);
  print(`    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),`);
  print(`Approximate round trip times in milli-seconds:`);
  print(`    Minimum = ${min}ms, Maximum = ${max}ms, Average = ${avg}ms`);
}

/* ---------------- BOOT ---------------- */
async function boot(){
  await typeLine("Microsoft Windows [Version 10.0.19045.4046]");
  await typeLine("(c) Microsoft Corporation. All rights reserved.");
  await typeLine("Initializing secure environment...");
  await loadingDots("Loading modules",3,350);
  await loadingDots("Decrypting session keys",3,350);
  await typeLine("Access granted.");
  await typeLine("Welcome to Secret Lab");
  await typeLine("Type 'help' to continue.");
  mode="shell";
  cmd.disabled=false;
  cmd.focus();
}
boot();

/* ---------------- SNAKE ---------------- */
function startSnake(){
  mode="snake";
  cmd.disabled=true;
  prompt.style.display="none";
  output.textContent="";

  const charW=9,charH=18;
  const cols=Math.floor(terminal.clientWidth/charW)-2;
  const rows=Math.floor(terminal.clientHeight/charH)-4;

  let snake=[{x:Math.floor(cols/2),y:Math.floor(rows/2)}];
  let dir=null;
  let food=spawn();
  let score=0;
  let running=true;

  function spawn(){
    return{
      x:Math.floor(Math.random()*cols),
      y:Math.floor(Math.random()*rows)
    };
  }

  function draw(gameOver=false){
    let grid=Array.from({length:rows},()=>Array(cols).fill(" "));
    snake.forEach(s=>grid[s.y][s.x]="█");
    grid[food.y][food.x]="●";
    output.textContent=
      grid.map(r=>r.join("")).join("\n")+
      `\n\nScore: ${score}`+
      (gameOver?" | GAME OVER — Press Q to exit":"");
  }

  function tick(){
    if(!dir||!running)return;
    const head={x:snake[0].x+dir.x,y:snake[0].y+dir.y};
    if(head.x<0||head.y<0||head.x>=cols||head.y>=rows){
      running=false;
      draw(true);
      return;
    }
    snake.unshift(head);
    if(head.x===food.x&&head.y===food.y){
      score++; food=spawn();
    } else snake.pop();
    draw();
  }

  function onKey(e){
    if(mode!=="snake")return;
    if(e.key==="ArrowUp")dir={x:0,y:-1};
    if(e.key==="ArrowDown")dir={x:0,y:1};
    if(e.key==="ArrowLeft")dir={x:-1,y:0};
    if(e.key==="ArrowRight")dir={x:1,y:0};
    if((e.key==="q"||e.key==="Q")&&!running)exit();
  }

  function exit(){
    document.removeEventListener("keydown",onKey);
    output.textContent="";
    prompt.style.display="flex";
    cmd.disabled=false;
    cmd.focus();
    mode="shell";
  }

  document.addEventListener("keydown",onKey);
  draw();
  setInterval(tick,130);
}

/* ---------------- SHELL ---------------- */
cmd.addEventListener("keydown",async e=>{
  if(mode!=="shell")return;

  if(e.key==="ArrowUp"&&history.length){
    historyIndex=historyIndex<=0?history.length-1:historyIndex-1;
    cmd.value=history[historyIndex];
    e.preventDefault();
  }
  if(e.key==="ArrowDown"&&history.length){
    historyIndex=historyIndex>=history.length-1?-1:historyIndex+1;
    cmd.value=historyIndex===-1?"":history[historyIndex];
    e.preventDefault();
  }

  if(e.key==="Enter"){
    const val=cmd.value.trim();
    print(`C:\\Users\\NullFrag> ${val}`);
    if(val)history.push(val),historyIndex=-1;

    if(val==="snake") startSnake();
    else if(val==="clear") output.textContent="";
    else if(val.startsWith("ping ")) {
      const target = val.split(" ")[1];
      await pingCommand(target);
    }
    else if(data[val]){
      for(const l of data[val].split("\n").filter(x=>x.trim()))
        await typeLine(l);
    }
    else {
      print(`'${val}' is not recognized as an internal or external command.`);
    }

    cmd.value="";
  }
});
</script>
</body>
</html>
